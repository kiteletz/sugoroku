function createBoard(){let d=window.board;var t=window.CONFIG.totalCells;d.innerHTML="",setupRandomEvents();for(let e=0;e<=t;e++){var n=createCell(e);d.appendChild(n),window.cells[e]=n}window.players.forEach((e,t)=>{var n;e.element||(id=e.id,(n=document.createElement("div")).classList.add("player"),n.style.backgroundColor=e.color,d.appendChild(n),e.element=n)})}function createCell(e){var t=document.createElement("div"),n=(t.classList.add("cell"),0===(t.dataset.index=e)&&t.classList.add("start"),e===window.CONFIG.totalCells&&t.classList.add("goal"),document.createElement("div")),d=(n.classList.add("top-row"),document.createElement("div"));return d.textContent=0===e?"スタート":e===window.CONFIG.totalCells?"ゴール":"",n.appendChild(d),window.events&&window.events[e]&&window.events[e].symbol&&((d=document.createElement("div")).classList.add("symbol"),d.textContent=window.events[e].symbol,n.appendChild(d)),t.appendChild(n),window.events&&window.events[e]&&(0<(d=window.events[e]).value||0<d.repeatSign?t.classList.add("event-forward"):d.value<0||d.repeatSign<0||void 0!==d.jumpTo?t.classList.add("event-back"):void 0!==d.diceTable&&t.classList.add("event-dice"),d.direction&&t.classList.add("dir-"+d.direction),d.text)&&((n=document.createElement("small")).classList.add("event-text"),n.textContent=d.text,t.appendChild(n)),t}function setupRandomEvents(){window.events={};var t=window.eventTemplates||[];if(0!==t.length){var n=Math.min(t.length,window.CONFIG.eventMax),d=[];for(let e=1;e<window.CONFIG.totalCells;e++)d.push(e);if(window.CONFIG.random)for(let e=d.length-1;0<e;e--){var a=Math.floor(Math.random()*(e+1));[d[e],d[a]]=[d[a],d[e]]}for(let e=0;e<n;e++){var o=d[e];window.events[o]={...t[e]}}}}window.createBoard=createBoard,window.setupRandomEvents=setupRandomEvents;
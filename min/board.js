function createBoard(){var t=window.CONFIG.goalIndex;let n=window.board;n.innerHTML="",setupRandomEvents();for(let e=0;e<=t;e++){var d=createCell(e);n.appendChild(d),window.cells[e]=d}window.players.forEach((e,t)=>{var d;e.element||(id=e.id,(d=document.createElement("div")).classList.add("player"),d.style.backgroundColor=e.color,n.appendChild(d),e.element=d)})}function createCell(e){var t=window.CONFIG.goalIndex,d=document.createElement("div"),n=(d.classList.add("cell"),document.createElement("div")),a=(n.classList.add("top-row"),document.createElement("div"));a.textContent=0===e?"スタート":e===t?"ゴール":"",n.appendChild(a);let o;return(o=window.events&&window.events[e]?window.events[e]:o)&&o.symbol&&((a=document.createElement("div")).classList.add("symbol"),a.textContent=o.symbol,n.appendChild(a)),d.appendChild(n),0===e&&d.classList.add("start"),e===t&&d.classList.add("goal"),o&&(0<o.value||0<o.repeatSign?d.classList.add("event-forward"):o.value<0||o.repeatSign<0||void 0!==o.jumpTo?d.classList.add("event-back"):void 0!==o.diceTable&&d.classList.add("event-dice"),o.direction)&&d.classList.add("dir-"+o.direction),o&&o.text&&((a=document.createElement("small")).classList.add("event-text"),a.textContent=o.text,d.appendChild(a)),d}function setupRandomEvents(){window.events={};var t=window.eventList||[];if(0!==t.length){var d=Math.min(t.length,window.CONFIG.eventMax),n=[];for(let e=1;e<window.CONFIG.goalIndex;e++)n.push(e);if(window.CONFIG.random)for(let e=n.length-1;0<e;e--){var a=Math.floor(Math.random()*(e+1));[n[e],n[a]]=[n[a],n[e]]}for(let e=0;e<d;e++){var o=n[e];window.events[o]={...t[e]}}}}window.createBoard=createBoard,window.setupRandomEvents=setupRandomEvents;
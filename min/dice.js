async function rollDice(){window.isTurnProcessing=!0;var e=window.currentPlayer;if(e.position!==window.CONFIG.goalIndex){await rollDiceUI(void 0,!0,!1);var{diceToShow:o,diceForMove:n}=await resolveDice();await delay(500),await rollDiceUI(o,!1,!1),await delay(500);let i="!"===o?"stay":null;updateUI(e.position,null,n,i)}}async function resolveDice(){var i=window.currentPlayer,e=i.nextDiceTable,o=Math.floor(6*Math.random())+1,e=e[o-1];i.nextDiceTable=null,i.lastDice=e;let n,l;return l="!"===e?(n=e,0):(n=o,e),console.log(`diceToShow = ${n}, diceForMove = `+l),{diceToShow:n,diceForMove:l}}async function rollDiceUI(i="?",e,o){window.diceDisplay.textContent=i,1==e?window.diceDisplay.classList.add("rolling"):window.diceDisplay.classList.remove("rolling"),0==o||CONFIG.autoPlayers.includes(window.currentTurn)?(window.diceDisplay.style.pointerEvents="none",window.diceDisplay.style.cursor="wait"):(window.diceDisplay.style.pointerEvents="auto",window.diceDisplay.style.cursor="pointer")}function delay(e){return new Promise(i=>setTimeout(i,e))}function startAutoPlay(){isAutoPlay&&(autoPlayInterval=setInterval(()=>{window.currentPlayer.position>=window.CONFIG.goalIndex||window.isTurnProcessing||CONFIG.autoPlayers.includes(window.currentTurn)&&rollDice()},CONFIG.autoDelayMs||2e3))}window.rollDice=rollDice,window.delay=delay,window.isAutoPlay=!1,window.isTurnProcessing=!1;
async function rollDice(){window.isTurnProcessing=!0;var o=window.currentPlayer;if(o.position!==window.CONFIG.goalIndex){await rollDiceUI(void 0,!0,!1);var{diceToShow:e,move:n}=await resolveDice();await delay(CONFIG.moveDuration),await rollDiceUI(e,!1,!1),await delay(CONFIG.moveDuration);let i="!"===e?"stay":null;updateUI(o.position,null,n,i)}}async function resolveDice(){var i=window.currentPlayer,o=i.nextDiceTable||[1,2,3,4,5,6],e=Math.floor(6*Math.random())+1,o=o[e-1],i=(i.nextDiceTable=null,"!"===(i.lastMove=o)?o:e);return console.log(`diceToShow = ${i}, move = `+o),{diceToShow:i,move:o}}async function rollDiceUI(i="?",o,e){window.diceDisplay.textContent=i,1==o?window.diceDisplay.classList.add("rolling"):window.diceDisplay.classList.remove("rolling"),0==e||CONFIG.autoPlayers.includes(window.currentTurn)?(window.diceDisplay.style.pointerEvents="none",window.diceDisplay.style.cursor="wait"):(window.diceDisplay.style.pointerEvents="auto",window.diceDisplay.style.cursor="pointer")}function delay(o){return new Promise(i=>setTimeout(i,o))}function startAutoPlay(){isAutoPlay&&(autoPlayInterval=setInterval(()=>{window.currentPlayer.position>=window.CONFIG.goalIndex||window.isTurnProcessing||CONFIG.autoPlayers.includes(window.currentTurn)&&rollDice()},CONFIG.autoDelayMs||2e3))}window.rollDice=rollDice,window.delay=delay,window.isAutoPlay=!1,window.isTurnProcessing=!1;